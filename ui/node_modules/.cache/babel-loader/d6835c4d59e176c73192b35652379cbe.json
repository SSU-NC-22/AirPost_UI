{"ast":null,"code":"var _jsxFileName = \"/home/seungmin/ncgo/ui/src/TrackingResult.tsx\";\nimport React, { Component } from 'react';\nimport './ManagementComponents/NodeMap.css';\n\nclass TrackingResult extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      nodeList: [],\n      map: {},\n      left: 0,\n      right: 0,\n      up: 0,\n      down: 0,\n      srcLng: 0,\n      srcLat: 0,\n      destLng: 0,\n      destLat: 0,\n      droneLng: 0,\n      droneLat: 0\n    };\n\n    this.componentDidMount = () => {\n      var mapContainer = document.getElementById('node_map'); // ������ ǥ���� div\n\n      var mapOption = {\n        center: new window.kakao.maps.LatLng(37.49575158172499, 126.95633291769067 // this.state.droneLat,\n        // this.state.droneLng\n        ),\n        // ������ �߽���ǥ\n        level: 5 // ������ Ȯ�� ����\n\n      }; // ������ �����մϴ�\n\n      var map = new window.kakao.maps.Map(mapContainer, mapOption);\n      mapContainer.style.height = '730px';\n      mapContainer.style.width = ' 800px';\n      map.relayout();\n      this.setState({\n        map: map\n      });\n      /*\n      this.getnodeList(\n      \tthis.state.left,\n      \tthis.state.right,\n      \tthis.state.up,\n      \tthis.state.down,\n      );\n      \t// �巡�װ� ���� �� or Ȯ�� ������ ����Ǹ�\n      window.kakao.maps.event.addListener(map, 'idle', () => {\n      \t// ������ ���� ������ ���ɴϴ�\n      \tvar bounds = map.getBounds();\n      \t\t// ������ ������ ��ǥ�� ���ɴϴ�\n      \tvar swLatLng = bounds.getSouthWest();\n      \t\t// ������ �ϵ��� ��ǥ�� ���ɴϴ�\n      \tvar neLatLng = bounds.getNorthEast();\n      \t\tthis.setState({\n      \t\tleft: swLatLng.getLng(), // left\n      \t\tright: neLatLng.getLng(), // right\n      \t\tup: neLatLng.getLat(), // up\n      \t\tdown: swLatLng.getLat(), // down\n      \t});\n      \t\tthis.getnodeList(\n      \t\tswLatLng.getLng(), // left\n      \t\tneLatLng.getLng(), // right\n      \t\tneLatLng.getLat(), // up\n      \t\tswLatLng.getLat() // down\n      \t);\n      });\n      };\n      \tgetnodeList(left: number, right: number, up: number, down: number) {\n      var url =\n      \tDELIVERY_URL +\n      \t'?left=' +\n      \tleft +\n      \t'&right=' +\n      \tright +\n      \t'&up=' +\n      \tup +\n      \t'&down=' +\n      \tdown;\n      fetch(url)\n      \t.then((res) => res.json())\n      \t.then((data) => this.setState({ nodeList: data }))\n      \t.catch((error) => console.error('Error:', error));\n      }\n      displayMarker(position: any, map: any) {\n      // ��Ŀ�� �����մϴ�\n      /*var marker = new window.kakao.maps.Marker({\n      \tmap: map, // ��Ŀ�� ǥ���� ����\n      \tposition: position.latlng, // ��Ŀ�� ��ġ\n      });*/\n\n      var marker = this.addMarker(position, map); // ��Ŀ�� ǥ���� custom overlay�� �����մϴ�\n\n      var customOverlay = new window.kakao.maps.CustomOverlay({\n        position: marker.getPosition()\n      });\n      var content = document.createElement('div');\n      var title = document.createElement('div');\n      title.innerHTML = '';\n      title.className = 'title';\n      title.setAttribute('style', 'background: #82CAFA;');\n      var closeBtn = document.createElement('button');\n\n      closeBtn.onclick = function () {\n        customOverlay.setMap(null);\n      };\n\n      closeBtn.className = 'close';\n      closeBtn.type = 'button';\n      title.appendChild(closeBtn);\n      var body = document.createElement('div');\n      var bodytextAv = document.createElement('div');\n      var bodytextBa = document.createElement('div');\n      bodytextAv.appendChild(document.createTextNode('Available: O'));\n      bodytextBa.appendChild(document.createTextNode('Battery: 77%'));\n      body.insertAdjacentElement('beforeend', bodytextAv);\n      body.insertAdjacentElement('beforeend', bodytextBa);\n      var bodyElem = document.createElement('button');\n      bodyElem.className = 'btn';\n      bodyElem.setAttribute('style', 'background: #82CAFA; color : white; margin: 0 0 0 130px');\n      bodyElem.appendChild(document.createTextNode('Register Delivery'));\n      body.insertAdjacentElement('beforeend', bodyElem);\n      body.className = 'body';\n      body.setAttribute('style', 'margin: 35px 0 0 0');\n      var info = document.createElement('div');\n      info.className = 'info';\n      info.insertAdjacentElement('afterbegin', title);\n      var wrap = document.createElement('div');\n      wrap.className = 'wrap';\n      wrap.insertAdjacentElement('afterbegin', info);\n      closeBtn.insertAdjacentElement('afterend', body);\n      content.insertAdjacentElement('afterbegin', wrap);\n      customOverlay.setContent(content);\n      window.kakao.maps.event.addListener(marker, 'click', function () {\n        customOverlay.setMap(map);\n      });\n    };\n  }\n\n  addMarker(position, map) {\n    if (position.kind === 'drone') var imageSrc = 'https://user-images.githubusercontent.com/68888653/126869406-4d22668f-04df-44e2-a952-6c4f7f9bc15d.png';else if (position.kind === 'station') var imageSrc = 'https://user-images.githubusercontent.com/68888653/126869445-228df4e6-6496-4597-b12e-7a0dd11a12d8.png';else var imageSrc = 'https://user-images.githubusercontent.com/68888653/126869406-4d22668f-04df-44e2-a952-6c4f7f9bc15d.png';\n    var imageSize = new window.kakao.maps.Size(30, 35),\n        markerImage = new window.kakao.maps.MarkerImage(imageSrc, imageSize),\n        //markerImage = new window.kakao.maps.MarkerImage(imageSrc, imageSize, imgOptions),\n    marker = new window.kakao.maps.Marker({\n      map: map,\n      position: position.latlng,\n      // ��Ŀ�� ��ġ\n      image: markerImage\n    }); // marker.setMap(map); // ���� ���� ��Ŀ�� ǥ���մϴ�\n\n    return marker;\n  }\n\n  render() {\n    var positions = this.state.nodeList.map(node => {\n      return {\n        title: node.name.split('-')[1] + '-' + node.name.split('-')[2],\n        kind: node.name.split('-')[0],\n        content: ['sink : ' + node.sink_id, 'id : ' + node.id, 'sensor : ' + node.sensor_values.map(sensor => sensor.value_name + ', ')],\n        latlng: new window.kakao.maps.LatLng(node.lat, node.lng)\n      };\n    });\n\n    for (var i = 0; i < positions.length; i++) {\n      this.displayMarker(positions[i], this.state.map);\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        float: 'right',\n        marginTop: \"315px\",\n        marginRight: \"100px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn my-2 my-sm-0\",\n      \"data-toggle\": \"modal\",\n      style: {\n        background: '#82CAFA',\n        color: 'white'\n      } // onClick={this.handleSubmit}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 6\n      }\n    }, \"Good!\"));\n  }\n\n}\n\nexport default TrackingResult;","map":{"version":3,"sources":["/home/seungmin/ncgo/ui/src/TrackingResult.tsx"],"names":["React","Component","TrackingResult","state","nodeList","map","left","right","up","down","srcLng","srcLat","destLng","destLat","droneLng","droneLat","componentDidMount","mapContainer","document","getElementById","mapOption","center","window","kakao","maps","LatLng","level","Map","style","height","width","relayout","setState","marker","addMarker","position","customOverlay","CustomOverlay","getPosition","content","createElement","title","innerHTML","className","setAttribute","closeBtn","onclick","setMap","type","appendChild","body","bodytextAv","bodytextBa","createTextNode","insertAdjacentElement","bodyElem","info","wrap","setContent","event","addListener","kind","imageSrc","imageSize","Size","markerImage","MarkerImage","Marker","latlng","image","render","positions","node","name","split","sink_id","id","sensor_values","sensor","value_name","lat","lng","i","length","displayMarker","float","marginTop","marginRight","background","color"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,oCAAP;;AAyBA,MAAMC,cAAN,SAA6BD,SAA7B,CAA4D;AAAA;AAAA;AAAA,SACxDE,KADwD,GAC3B;AAC/BC,MAAAA,QAAQ,EAAE,EADqB;AAE/BC,MAAAA,GAAG,EAAE,EAF0B;AAG/BC,MAAAA,IAAI,EAAE,CAHyB;AAI/BC,MAAAA,KAAK,EAAE,CAJwB;AAK/BC,MAAAA,EAAE,EAAE,CAL2B;AAM/BC,MAAAA,IAAI,EAAE,CANyB;AAO/BC,MAAAA,MAAM,EAAC,CAPwB;AAQzBC,MAAAA,MAAM,EAAC,CARkB;AASzBC,MAAAA,OAAO,EAAC,CATiB;AAUzBC,MAAAA,OAAO,EAAC,CAViB;AAWzBC,MAAAA,QAAQ,EAAC,CAXgB;AAYzBC,MAAAA,QAAQ,EAAC;AAZgB,KAD2B;;AAAA,SAgBxDC,iBAhBwD,GAgBpC,MAAM;AAC5B,UAAIC,YAAY,GAAGC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAAnB,CAD4B,CAC4B;;AACxD,UAAIC,SAAS,GAAG;AACfC,QAAAA,MAAM,EAAE,IAAIC,MAAM,CAACC,KAAP,CAAaC,IAAb,CAAkBC,MAAtB,CACP,iBADO,EAEP,kBAFO,CAGP;AACA;AAJO,SADO;AAMZ;AACHC,QAAAA,KAAK,EAAE,CAPQ,CAOL;;AAPK,OAAhB,CAF4B,CAY5B;;AACA,UAAIrB,GAAG,GAAG,IAAIiB,MAAM,CAACC,KAAP,CAAaC,IAAb,CAAkBG,GAAtB,CAA0BV,YAA1B,EAAwCG,SAAxC,CAAV;AACAH,MAAAA,YAAY,CAAEW,KAAd,CAAoBC,MAApB,GAA6B,OAA7B;AACAZ,MAAAA,YAAY,CAAEW,KAAd,CAAoBE,KAApB,GAA4B,QAA5B;AACAzB,MAAAA,GAAG,CAAC0B,QAAJ;AACA,WAAKC,QAAL,CAAc;AAAE3B,QAAAA,GAAG,EAAEA;AAAP,OAAd;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA,UAAI4B,MAAM,GAAG,KAAKC,SAAL,CAAeC,QAAf,EAAyB9B,GAAzB,CAAb,CA9E4B,CAgF5B;;AACA,UAAI+B,aAAa,GAAG,IAAId,MAAM,CAACC,KAAP,CAAaC,IAAb,CAAkBa,aAAtB,CAAoC;AACvDF,QAAAA,QAAQ,EAAEF,MAAM,CAACK,WAAP;AAD6C,OAApC,CAApB;AAIA,UAAIC,OAAO,GAAGrB,QAAQ,CAACsB,aAAT,CAAuB,KAAvB,CAAd;AAEA,UAAIC,KAAK,GAAGvB,QAAQ,CAACsB,aAAT,CAAuB,KAAvB,CAAZ;AACAC,MAAAA,KAAK,CAACC,SAAN,GAAkB,EAAlB;AACAD,MAAAA,KAAK,CAACE,SAAN,GAAkB,OAAlB;AACAF,MAAAA,KAAK,CAACG,YAAN,CAAmB,OAAnB,EAA4B,sBAA5B;AAEA,UAAIC,QAAQ,GAAG3B,QAAQ,CAACsB,aAAT,CAAuB,QAAvB,CAAf;;AAEAK,MAAAA,QAAQ,CAACC,OAAT,GAAmB,YAAY;AAC9BV,QAAAA,aAAa,CAACW,MAAd,CAAqB,IAArB;AACA,OAFD;;AAGAF,MAAAA,QAAQ,CAACF,SAAT,GAAqB,OAArB;AACAE,MAAAA,QAAQ,CAACG,IAAT,GAAgB,QAAhB;AAEAP,MAAAA,KAAK,CAACQ,WAAN,CAAkBJ,QAAlB;AAEA,UAAIK,IAAI,GAAGhC,QAAQ,CAACsB,aAAT,CAAuB,KAAvB,CAAX;AACA,UAAIW,UAAU,GAAGjC,QAAQ,CAACsB,aAAT,CAAuB,KAAvB,CAAjB;AACA,UAAIY,UAAU,GAAGlC,QAAQ,CAACsB,aAAT,CAAuB,KAAvB,CAAjB;AACAW,MAAAA,UAAU,CAACF,WAAX,CAAuB/B,QAAQ,CAACmC,cAAT,CAAwB,cAAxB,CAAvB;AACAD,MAAAA,UAAU,CAACH,WAAX,CAAuB/B,QAAQ,CAACmC,cAAT,CAAwB,cAAxB,CAAvB;AACAH,MAAAA,IAAI,CAACI,qBAAL,CAA2B,WAA3B,EAAwCH,UAAxC;AACAD,MAAAA,IAAI,CAACI,qBAAL,CAA2B,WAA3B,EAAwCF,UAAxC;AAEA,UAAIG,QAAQ,GAAGrC,QAAQ,CAACsB,aAAT,CAAuB,QAAvB,CAAf;AACAe,MAAAA,QAAQ,CAACZ,SAAT,GAAqB,KAArB;AACAY,MAAAA,QAAQ,CAACX,YAAT,CAAsB,OAAtB,EAA+B,yDAA/B;AACAW,MAAAA,QAAQ,CAACN,WAAT,CAAqB/B,QAAQ,CAACmC,cAAT,CAAwB,mBAAxB,CAArB;AACAH,MAAAA,IAAI,CAACI,qBAAL,CAA2B,WAA3B,EAAwCC,QAAxC;AAEAL,MAAAA,IAAI,CAACP,SAAL,GAAiB,MAAjB;AACAO,MAAAA,IAAI,CAACN,YAAL,CAAkB,OAAlB,EAA2B,oBAA3B;AAEA,UAAIY,IAAI,GAAGtC,QAAQ,CAACsB,aAAT,CAAuB,KAAvB,CAAX;AACAgB,MAAAA,IAAI,CAACb,SAAL,GAAiB,MAAjB;AAEAa,MAAAA,IAAI,CAACF,qBAAL,CAA2B,YAA3B,EAAyCb,KAAzC;AAEA,UAAIgB,IAAI,GAAGvC,QAAQ,CAACsB,aAAT,CAAuB,KAAvB,CAAX;AACAiB,MAAAA,IAAI,CAACd,SAAL,GAAiB,MAAjB;AAEAc,MAAAA,IAAI,CAACH,qBAAL,CAA2B,YAA3B,EAAyCE,IAAzC;AAEAX,MAAAA,QAAQ,CAACS,qBAAT,CAA+B,UAA/B,EAA2CJ,IAA3C;AAEAX,MAAAA,OAAO,CAACe,qBAAR,CAA8B,YAA9B,EAA4CG,IAA5C;AAEArB,MAAAA,aAAa,CAACsB,UAAd,CAAyBnB,OAAzB;AAEAjB,MAAAA,MAAM,CAACC,KAAP,CAAaC,IAAb,CAAkBmC,KAAlB,CAAwBC,WAAxB,CAAoC3B,MAApC,EAA4C,OAA5C,EAAqD,YAAY;AAChEG,QAAAA,aAAa,CAACW,MAAd,CAAqB1C,GAArB;AACA,OAFD;AAGA,KA1J0D;AAAA;;AA4J3D6B,EAAAA,SAAS,CAACC,QAAD,EAAgB9B,GAAhB,EAA0B;AAClC,QAAK8B,QAAQ,CAAC0B,IAAT,KAAmB,OAAxB,EAAiC,IAAIC,QAAQ,GAAG,uGAAf,CAAjC,KACK,IAAK3B,QAAQ,CAAC0B,IAAT,KAAkB,SAAvB,EAAkC,IAAIC,QAAQ,GAAG,uGAAf,CAAlC,KACA,IAAIA,QAAQ,GAAG,uGAAf;AAEL,QAAIC,SAAS,GAAG,IAAIzC,MAAM,CAACC,KAAP,CAAaC,IAAb,CAAkBwC,IAAtB,CAA2B,EAA3B,EAAgC,EAAhC,CAAhB;AAAA,QACCC,WAAW,GAAG,IAAI3C,MAAM,CAACC,KAAP,CAAaC,IAAb,CAAkB0C,WAAtB,CAAkCJ,QAAlC,EAA4CC,SAA5C,CADf;AAAA,QAEC;AACC9B,IAAAA,MAAM,GAAG,IAAIX,MAAM,CAACC,KAAP,CAAaC,IAAb,CAAkB2C,MAAtB,CAA6B;AACtC9D,MAAAA,GAAG,EAAEA,GADiC;AAEtC8B,MAAAA,QAAQ,EAAEA,QAAQ,CAACiC,MAFmB;AAEX;AAC3BC,MAAAA,KAAK,EAAEJ;AAH+B,KAA7B,CAHX,CALkC,CAclC;;AAEA,WAAOhC,MAAP;AACA;;AAEEqC,EAAAA,MAAM,GAAG;AACX,QAAIC,SAAS,GAAG,KAAKpE,KAAL,CAAWC,QAAX,CAAoBC,GAApB,CAAyBmE,IAAD,IAAwB;AAC/D,aAAO;AACN/B,QAAAA,KAAK,EAAE+B,IAAI,CAACC,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCF,IAAI,CAACC,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,CADjC;AAENb,QAAAA,IAAI,EAAEW,IAAI,CAACC,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,CAFA;AAGNnC,QAAAA,OAAO,EAAE,CACR,YAAYiC,IAAI,CAACG,OADT,EAER,UAAUH,IAAI,CAACI,EAFP,EAGR,cACCJ,IAAI,CAACK,aAAL,CAAmBxE,GAAnB,CAAwByE,MAAD,IAA6BA,MAAM,CAACC,UAAP,GAAkB,IAAtE,CAJO,CAHH;AASNX,QAAAA,MAAM,EAAE,IAAI9C,MAAM,CAACC,KAAP,CAAaC,IAAb,CAAkBC,MAAtB,CAA6B+C,IAAI,CAACQ,GAAlC,EAAuCR,IAAI,CAACS,GAA5C;AATF,OAAP;AAWA,KAZe,CAAhB;;AAcA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGX,SAAS,CAACY,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AAC1C,WAAKE,aAAL,CAAmBb,SAAS,CAACW,CAAD,CAA5B,EAAiC,KAAK/E,KAAL,CAAWE,GAA5C;AACA;;AACK,wBACI;AAAK,MAAA,KAAK,EAAE;AAAEgF,QAAAA,KAAK,EAAE,OAAT;AAAkBC,QAAAA,SAAS,EAAC,OAA5B;AAAqCC,QAAAA,WAAW,EAAC;AAAjD,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACP;AACC,MAAA,IAAI,EAAC,QADN;AAEC,MAAA,SAAS,EAAC,kBAFX;AAGC,qBAAY,OAHb;AAIC,MAAA,KAAK,EAAE;AAAEC,QAAAA,UAAU,EAAE,SAAd;AAAyBC,QAAAA,KAAK,EAAG;AAAjC,OAJR,CAKC;AALD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADO,CADJ;AAaH;;AA9MuD;;AAiN5D,eAAevF,cAAf","sourcesContent":["import React, { Component } from 'react';\nimport './ManagementComponents/NodeMap.css';\nimport {DELIVERY_URL} from './defineUrl';\nimport {nodeListElem, value_list_elem} from './ElemInterface/ElementsInterface'\n\ndeclare global {\n\tinterface Window {\n\t\tkakao: any;\n\t}\n}\n\ninterface TrackingResultState {\n\tnodeList: Array<nodeListElem>;\n\tmap: any;\n\tleft: number;\n\tright: number;\n\tup: number;\n\tdown: number;\n    srcLng:number;\n    srcLat:number;\n    destLng:number;\n    destLat:number;\n    droneLng:number;\n    droneLat:number;\n}\n\nclass TrackingResult extends Component<TrackingResultState> {\n    state: TrackingResultState = {\n\t\tnodeList: [],\n\t\tmap: {},\n\t\tleft: 0,\n\t\tright: 0,\n\t\tup: 0,\n\t\tdown: 0,\n\t\tsrcLng:0,\n        srcLat:0,\n        destLng:0,\n        destLat:0,\n        droneLng:0,\n        droneLat:0,\n\t};\n\t\n    componentDidMount = () => {\n\t\tvar mapContainer = document.getElementById('node_map'); // ������ ǥ���� div\n\t\tvar mapOption = {\n\t\t\tcenter: new window.kakao.maps.LatLng(\n\t\t\t\t37.49575158172499,\n\t\t\t\t126.95633291769067\n\t\t\t\t// this.state.droneLat,\n\t\t\t\t// this.state.droneLng\n\t\t\t), // ������ �߽���ǥ\n\t\t\tlevel: 5, // ������ Ȯ�� ����\n\t\t};\n\n\t\t// ������ �����մϴ�\n\t\tvar map = new window.kakao.maps.Map(mapContainer, mapOption);\n\t\tmapContainer!.style.height = '730px';\n\t\tmapContainer!.style.width = ' 800px';\n\t\tmap.relayout();\n\t\tthis.setState({ map: map });\n\n\t\t/*\n\t\tthis.getnodeList(\n\t\t\tthis.state.left,\n\t\t\tthis.state.right,\n\t\t\tthis.state.up,\n\t\t\tthis.state.down,\n\t\t);\n\n\t\t// �巡�װ� ���� �� or Ȯ�� ������ ����Ǹ�\n\t\twindow.kakao.maps.event.addListener(map, 'idle', () => {\n\t\t\t// ������ ���� ������ ���ɴϴ�\n\t\t\tvar bounds = map.getBounds();\n\n\t\t\t// ������ ������ ��ǥ�� ���ɴϴ�\n\t\t\tvar swLatLng = bounds.getSouthWest();\n\n\t\t\t// ������ �ϵ��� ��ǥ�� ���ɴϴ�\n\t\t\tvar neLatLng = bounds.getNorthEast();\n\n\t\t\tthis.setState({\n\t\t\t\tleft: swLatLng.getLng(), // left\n\t\t\t\tright: neLatLng.getLng(), // right\n\t\t\t\tup: neLatLng.getLat(), // up\n\t\t\t\tdown: swLatLng.getLat(), // down\n\t\t\t});\n\n\t\t\tthis.getnodeList(\n\t\t\t\tswLatLng.getLng(), // left\n\t\t\t\tneLatLng.getLng(), // right\n\t\t\t\tneLatLng.getLat(), // up\n\t\t\t\tswLatLng.getLat() // down\n\t\t\t);\n\t\t});\n\t};\n\t\n\tgetnodeList(left: number, right: number, up: number, down: number) {\n\t\tvar url =\n\t\t\tDELIVERY_URL +\n\t\t\t'?left=' +\n\t\t\tleft +\n\t\t\t'&right=' +\n\t\t\tright +\n\t\t\t'&up=' +\n\t\t\tup +\n\t\t\t'&down=' +\n\t\t\tdown;\n\t\tfetch(url)\n\t\t\t.then((res) => res.json())\n\t\t\t.then((data) => this.setState({ nodeList: data }))\n\t\t\t.catch((error) => console.error('Error:', error));\n\t}\n\n\tdisplayMarker(position: any, map: any) {\n\t\t// ��Ŀ�� �����մϴ�\n\t\t/*var marker = new window.kakao.maps.Marker({\n\t\t\tmap: map, // ��Ŀ�� ǥ���� ����\n\t\t\tposition: position.latlng, // ��Ŀ�� ��ġ\n\t\t});*/\n\n\t\tvar marker = this.addMarker(position, map)\n\n\t\t// ��Ŀ�� ǥ���� custom overlay�� �����մϴ�\n\t\tvar customOverlay = new window.kakao.maps.CustomOverlay({\n\t\t\tposition: marker.getPosition(),\n\t\t});\n\n\t\tvar content = document.createElement('div');\n\t\t\n\t\tvar title = document.createElement('div');\n\t\ttitle.innerHTML = '';\n\t\ttitle.className = 'title';\n\t\ttitle.setAttribute('style', 'background: #82CAFA;')\n\t\t\n\t\tvar closeBtn = document.createElement('button');\n\n\t\tcloseBtn.onclick = function () {\n\t\t\tcustomOverlay.setMap(null);\n\t\t};\n\t\tcloseBtn.className = 'close';\n\t\tcloseBtn.type = 'button';\n\t\t\n\t\ttitle.appendChild(closeBtn);\n\t\t\n\t\tvar body = document.createElement('div');\n\t\tvar bodytextAv = document.createElement('div');\n\t\tvar bodytextBa = document.createElement('div');\n\t\tbodytextAv.appendChild(document.createTextNode('Available: O'));\n\t\tbodytextBa.appendChild(document.createTextNode('Battery: 77%'));\n\t\tbody.insertAdjacentElement('beforeend', bodytextAv);\n\t\tbody.insertAdjacentElement('beforeend', bodytextBa);\n\n\t\tvar bodyElem = document.createElement('button');\n\t\tbodyElem.className = 'btn'\n\t\tbodyElem.setAttribute('style', 'background: #82CAFA; color : white; margin: 0 0 0 130px');\n\t\tbodyElem.appendChild(document.createTextNode('Register Delivery'));\n\t\tbody.insertAdjacentElement('beforeend', bodyElem);\n\n\t\tbody.className = 'body';\n\t\tbody.setAttribute('style', 'margin: 35px 0 0 0');\n\n\t\tvar info = document.createElement('div');\n\t\tinfo.className = 'info';\n\t\t\n\t\tinfo.insertAdjacentElement('afterbegin', title);\n\t\t\n\t\tvar wrap = document.createElement('div');\n\t\twrap.className = 'wrap';\n\t\t\n\t\twrap.insertAdjacentElement('afterbegin', info);\n\t\t\n\t\tcloseBtn.insertAdjacentElement('afterend', body);\n\t\t\n\t\tcontent.insertAdjacentElement('afterbegin', wrap);\n\n\t\tcustomOverlay.setContent(content);\n\n\t\twindow.kakao.maps.event.addListener(marker, 'click', function () {\n\t\t\tcustomOverlay.setMap(map);\n\t\t});\n\t}\n\n\taddMarker(position: any, map: any) {\n\t\tif ( position.kind  === 'drone') var imageSrc = 'https://user-images.githubusercontent.com/68888653/126869406-4d22668f-04df-44e2-a952-6c4f7f9bc15d.png'\n\t\telse if ( position.kind === 'station') var imageSrc = 'https://user-images.githubusercontent.com/68888653/126869445-228df4e6-6496-4597-b12e-7a0dd11a12d8.png'\n\t\telse var imageSrc = 'https://user-images.githubusercontent.com/68888653/126869406-4d22668f-04df-44e2-a952-6c4f7f9bc15d.png'\n\t\t\n\t\tvar imageSize = new window.kakao.maps.Size(30 , 35),\n\t\t\tmarkerImage = new window.kakao.maps.MarkerImage(imageSrc, imageSize),\n\t\t\t//markerImage = new window.kakao.maps.MarkerImage(imageSrc, imageSize, imgOptions),\n\t\t\t\tmarker = new window.kakao.maps.Marker({\n\t\t\t\tmap: map,\n\t\t\t\tposition: position.latlng, // ��Ŀ�� ��ġ\n\t\t\t\timage: markerImage \n\t\t\t});\n\n\t\t// marker.setMap(map); // ���� ���� ��Ŀ�� ǥ���մϴ�\n\t\n\t\treturn marker;\n\t}\n\n    render() {\n\t\tvar positions = this.state.nodeList.map((node: nodeListElem) => {\n\t\t\treturn {\n\t\t\t\ttitle: node.name.split('-')[1] + '-' + node.name.split('-')[2],\n\t\t\t\tkind: node.name.split('-')[0],\n\t\t\t\tcontent: [\n\t\t\t\t\t'sink : ' + node.sink_id,\n\t\t\t\t\t'id : ' + node.id,\n\t\t\t\t\t'sensor : ' +\n\t\t\t\t\t\tnode.sensor_values.map((sensor: value_list_elem) => sensor.value_name+', '),\n\t\t\t\t],\n\t\t\t\tlatlng: new window.kakao.maps.LatLng(node.lat, node.lng),\n\t\t\t};\n\t\t});\n\n\t\tfor (var i = 0; i < positions.length; i++) {\n\t\t\tthis.displayMarker(positions[i], this.state.map);\n\t\t}\n        return(\n            <div style={{ float: 'right', marginTop:\"315px\", marginRight:\"100px\"}}>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"btn my-2 my-sm-0\" \n\t\t\t\t\t\tdata-toggle=\"modal\"\n\t\t\t\t\t\tstyle={{ background: '#82CAFA', color : 'white' }}\n\t\t\t\t\t\t// onClick={this.handleSubmit}\n\t\t\t\t\t>\n\t\t\t\t\tGood!\n\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n        );\n    }\n}\n\nexport default TrackingResult;"]},"metadata":{},"sourceType":"module"}